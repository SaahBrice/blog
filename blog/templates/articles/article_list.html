{% extends "base.html" %}

{% block content %}
<h2>Articles</h2>

<div>
    <h3>Tags</h3>
    {% for tag in tags %}
        <a href="{% url 'article_by_tag' tag.slug %}" {% if tag.slug == current_tag %}style="font-weight: bold;"{% endif %}>{{ tag.name }}</a>
    {% endfor %}
</div>

{% if user.is_authenticated %}
    <a href="{% url 'article_create' %}">Create New Article</a>
{% endif %}

<ul>
{% if recommended_articles %}
    <h3>Recommended for You</h3>
    <ul>
        {% for article in recommended_articles %}
            <li><a href="{% url 'article_detail' article.pk %}">{{ article.title }}</a></li>
        {% endfor %}
    </ul>
{% endif %}
{% for article in articles %}
    <li>
        <a href="{% url 'article_detail' article.pk %}">{{ article.title }}</a>
        <small>Tags: {% for tag in article.tags.all %}{{ tag.name }}{% if not forloop.last %}, {% endif %}{% endfor %}</small>
    </li>
{% empty %}
    <li>No articles available.</li>
{% endfor %}
</ul>
{% endblock %}